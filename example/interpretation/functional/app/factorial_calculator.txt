PROG

var n : int;        // Nombre pour lequel on calcule la factorielle
var fact : int;     // Résultat de la factorielle
var res : int;      // Variable pour vérifier les débordements

// Fonction pour calculer la factorielle
func factorial(num : int) -> int {
    var result : int;
    var i : int;

    if (num == 0) {
        result := 1;   // Factorielle de 0 est 1
    } else {
        result := 1;
        i := 1;

        while (i <= num) {
            res := result * i / i;
            if (res != result) {
                result := -1; // Retourner -1 en cas de débordement
            }
            result := result * i;
            i := i + 1;
        }
    }

    return result;
}

print("Enter a number to compute its factorial: ");
input("%d", n);

// Gérer les cas particuliers
if (n < 0) {
    print("Factorial is undefined for negative numbers.\n");
} else {
    fact := factorial(n);
    if (fact < 0) {
        print("Factorial calculation failed due to overflow.\n");
    } else {
        print("Factorial of %d is %d\n", n, fact);
    }
}
